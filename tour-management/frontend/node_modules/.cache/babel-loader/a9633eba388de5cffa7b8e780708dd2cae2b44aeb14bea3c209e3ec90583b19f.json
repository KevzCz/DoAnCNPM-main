{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asus\\\\Desktop\\\\What I like\\\\web\\\\DoAnCNPM-main\\\\tour-management\\\\frontend\\\\src\\\\pages\\\\Profile.jsx\",\n  _s = $RefreshSig$();\n// Profile.jsx\nimport React, { useContext, useState } from 'react';\nimport AuthContext from '../context/AuthContext';\nimport \"../styles/profile.css\"; // Make sure to create and import the CSS file\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const {\n    user,\n    setUser\n  } = useContext(AuthContext);\n  const [fullName, setFullName] = useState(user.fullname);\n  const [editing, setEditing] = useState(false);\n  const handleEditClick = () => {\n    setEditing(true);\n  };\n  const handleSaveClick = async () => {\n    try {\n      const res = await axios.put('http://localhost:3000/user/update', {\n        phone: user.phone,\n        fullname: fullName\n      });\n      setUser({\n        ...user,\n        fullname: fullName\n      });\n      setEditing(false);\n      alert('Profile updated successfully!');\n    } catch (err) {\n      var _err$response;\n      console.error('Failed to update profile:', err);\n      alert('Failed to update profile: ' + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"profile-avatar\",\n        src: user.photo || \"/images/ava-1.jpg\",\n        alt: \"Avatar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"profile-username\",\n        children: user.fullname\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"profile-email\",\n        children: user.phone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-details\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"profile-section-title\",\n        children: \"Th\\xF4ng tin t\\xE0i kho\\u1EA3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-info-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"profile-info-label\",\n            children: \"Full Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 25\n          }, this), editing ? /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: fullName,\n            onChange: e => setFullName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"profile-info-value\",\n            children: user.fullname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-info-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"profile-info-label\",\n            children: \"Phone Number:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"profile-info-value\",\n            children: user.phone\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-info-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"profile-info-label\",\n            children: \"Gender:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"profile-info-value\",\n            children: user.gender\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-info-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"profile-info-label\",\n            children: \"Birthday:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"profile-info-value\",\n            children: user.birthday\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), editing ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn save-btn\",\n        onClick: handleSaveClick,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn edit-btn\",\n        onClick: handleEditClick,\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this);\n};\n_s(Profile, \"Bz57BLzaOFqABjAKojmE7S1ERng=\");\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useContext","useState","AuthContext","axios","Profile","user","setUser","fullName","setFullName","fullname","editing","setEditing","handleEditClick","handleSaveClick","res","put","phone","alert","err","console","error","response","data","message","photo","e","target","value","gender","birthday"],"sources":["C:/Users/asus/Desktop/What I like/web/DoAnCNPM-main/tour-management/frontend/src/pages/Profile.jsx"],"sourcesContent":["// Profile.jsx\r\nimport React, { useContext, useState } from 'react';\r\nimport AuthContext from '../context/AuthContext';\r\nimport \"../styles/profile.css\";  // Make sure to create and import the CSS file\r\nimport axios from 'axios';\r\n\r\nconst Profile = () => {\r\n    const { user, setUser } = useContext(AuthContext);\r\n    const [fullName, setFullName] = useState(user.fullname);\r\n    const [editing, setEditing] = useState(false);\r\n\r\n    const handleEditClick = () => {\r\n        setEditing(true);\r\n    };\r\n\r\n    const handleSaveClick = async () => {\r\n        try {\r\n            const res = await axios.put('http://localhost:3000/user/update', { phone: user.phone, fullname: fullName });\r\n            setUser({ ...user, fullname: fullName });\r\n            setEditing(false);\r\n            alert('Profile updated successfully!');\r\n        } catch (err) {\r\n            console.error('Failed to update profile:', err);\r\n            alert('Failed to update profile: ' + (err.response?.data || err.message));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"profile-container\">\r\n            <div className=\"profile-header\">\r\n                <img className=\"profile-avatar\" src={user.photo || \"/images/ava-1.jpg\"} alt=\"Avatar\" />\r\n                <h1 className=\"profile-username\">{user.fullname}</h1>\r\n                <p className=\"profile-email\">{user.phone}</p>\r\n            </div>\r\n            <div className=\"profile-details\">\r\n                <h2 className=\"profile-section-title\">Thông tin tài khoản</h2>\r\n                <div className=\"profile-info\">\r\n                    <div className=\"profile-info-item\">\r\n                        <span className=\"profile-info-label\">Full Name:</span>\r\n                        {editing ? (\r\n                            <input\r\n                                type=\"text\"\r\n                                value={fullName}\r\n                                onChange={(e) => setFullName(e.target.value)}\r\n                            />\r\n                        ) : (\r\n                            <span className=\"profile-info-value\">{user.fullname}</span>\r\n                        )}\r\n                    </div>\r\n                    <div className=\"profile-info-item\">\r\n                        <span className=\"profile-info-label\">Phone Number:</span>\r\n                        <span className=\"profile-info-value\">{user.phone}</span>\r\n                    </div>\r\n                    <div className=\"profile-info-item\">\r\n                        <span className=\"profile-info-label\">Gender:</span>\r\n                        <span className=\"profile-info-value\">{user.gender}</span>\r\n                    </div>\r\n                    <div className=\"profile-info-item\">\r\n                        <span className=\"profile-info-label\">Birthday:</span>\r\n                        <span className=\"profile-info-value\">{user.birthday}</span>\r\n                    </div>\r\n                </div>\r\n                {editing ? (\r\n                    <button className=\"btn save-btn\" onClick={handleSaveClick}>Save</button>\r\n                ) : (\r\n                    <button className=\"btn edit-btn\" onClick={handleEditClick}>Edit</button>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}